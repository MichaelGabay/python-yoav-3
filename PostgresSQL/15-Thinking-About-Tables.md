# חשיבה על טבלאות

## עקרונות

### 1. טבלה = ישות אחת
כל טבלה מייצגת סוג אחד של דברים: לקוחות, מוצרים, הזמנות.

### 2. שורה = מופע אחד
כל שורה = מקרה בודד של הישות.

### 3. עמודה = מאפיין אחד
כל עמודה מתארת תכונה אחת של המופע.

### 4. אין כפילויות
אם מידע חוזר – עדיף לטבלה נפרדת ולהפניה.

## שאלות לעצמך

- האם יש לי ישות אחת או כמה? (לקוחות vs הזמנות)
- האם יש קשרים בין ישויות? (הזמנה שייכת ללקוח)
- האם יש ערכים חוזרים שניתן לפרק? (מדינות, קטגוריות)

## דוגמה – מה לא לעשות

| order_id | customer_name | product1 | product2 | product3 |
|----------|---------------|----------|----------|----------|

הבעיה: מספר פריטים קבוע, קשה להרחבה.

## דוגמה – מה כן לעשות

- `orders` – הזמנות
- `order_items` – פריטים בהזמנה (order_id, product_id, quantity)

## תרגילים

### תרגיל 1
מערכת כרטיסי ביקור: כרטיס אחד = משתתף אחד באירוע אחד. אילו טבלאות צריך? מה הקשרים ביניהן?

### תרגיל 2
מדוע טבלה אחת עם `student_name`, `course1`, `course2`, `course3` אינה אידיאלית? מה עדיף?

### תרגיל 3
הסבר: מתי יש להפריד טבלה לשתיים? תן דוגמה.

### תרגיל 4
בטבלת `employees`: `id`, `name`, `department_name`. מה הבעיה? איך משפרים?

### תרגיל 5
עצב טבלאות למערכת השאלת ספרים: ספרים, חברים, השאלות. כל השאלה – ספר אחד וחבר אחד בתאריכים נתונים.

---

## פתרונות

<details>
<summary>לחץ כדי לראות פתרונות</summary>

### תרגיל 1
- `events` – אירועים  
- `participants` – משתתפים  
- `tickets` – כרטיסים (event_id, participant_id, ticket_code)  

קשר: אירוע ↔ משתתפים דרך `tickets`.

### תרגיל 2
מספר קורסים קבוע, קשה להרחבה. עדיף: `students`, `courses`, `enrollments` (student_id, course_id).

### תרגיל 3
כשיש כפילות מידע או ישות נפרדת. דוגמה: `customers` ו-`orders` – לקוח אחד יכול להזמין הרבה, עדיף שתי טבלאות עם קשר.

### תרגיל 4
`department_name` חוזר – אותו מחלקה אצל הרבה עובדים. עדיף: `departments` (id, name), `employees` עם `department_id` כמפתח זר.

### תרגיל 5
- `books` – id, title, author  
- `members` – id, name  
- `borrowals` – id, book_id, member_id, borrow_date, return_date  

</details>
